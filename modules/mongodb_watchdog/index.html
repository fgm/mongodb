
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.5.3">
    
    
      
        <title>Logger: mongodb_watchdog - MongoDB for Drupal</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7a952b86.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#8bc34b">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="light-green" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#logger-mongodb_watchdog" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="MongoDB for Drupal" class="md-header__button md-logo" aria-label="MongoDB for Drupal" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M303.973 108.136C268.2 72.459 234.187 38.35 224.047 0c-9.957 38.35-44.25 72.459-80.019 108.136-53.561 53.564-114.312 114.22-114.312 205.3-2.337 107.3 82.752 196.18 190.053 198.517S415.948 429.2 418.285 321.9q.091-4.231 0-8.464c0-91.08-60.751-151.736-114.312-205.3Zm-174.326 223a130.282 130.282 0 0 0-15.211 24.153 4.978 4.978 0 0 1-3.319 2.766h-1.659c-4.333 0-9.219-8.481-9.219-8.481-1.29-2.028-2.489-4.149-3.687-6.361l-.83-1.752c-11.247-25.72-1.475-62.318-1.475-62.318a160.585 160.585 0 0 1 23.231-49.873 290.8 290.8 0 0 1 21.022-27.657l9.219 9.219 43.512 44.434a4.979 4.979 0 0 1 0 6.638L145.78 312.33Zm96.612 127.311a67.2 67.2 0 0 1-49.781-111.915c14.2-16.871 31.528-33.464 50.334-55.313 22.309 23.785 36.875 40.1 51.164 57.986a28.413 28.413 0 0 1 2.95 4.425 65.905 65.905 0 0 1 11.984 37.981 66.651 66.651 0 0 1-66.466 66.836ZM352.371 351.6a7.743 7.743 0 0 1-6.176 5.347H344.9a11.249 11.249 0 0 1-6.269-5.07 348.21 348.21 0 0 0-39.456-48.952l-17.788-18.435-59.087-61.305a497.888 497.888 0 0 1-35.4-36.322 12.033 12.033 0 0 0-.922-1.382 35.4 35.4 0 0 1-4.7-9.219v-1.752a31.346 31.346 0 0 1 9.218-27.656c11.432-11.431 22.955-22.954 33.833-34.939 11.984 13.275 24.8 26 37.428 38.627a530.991 530.991 0 0 1 69.6 79.1 147.494 147.494 0 0 1 27.011 83.8 134.109 134.109 0 0 1-5.997 38.158Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MongoDB for Drupal
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Logger: mongodb_watchdog
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/fgm/mongodb" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="MongoDB for Drupal" class="md-nav__button md-logo" aria-label="MongoDB for Drupal" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M303.973 108.136C268.2 72.459 234.187 38.35 224.047 0c-9.957 38.35-44.25 72.459-80.019 108.136-53.561 53.564-114.312 114.22-114.312 205.3-2.337 107.3 82.752 196.18 190.053 198.517S415.948 429.2 418.285 321.9q.091-4.231 0-8.464c0-91.08-60.751-151.736-114.312-205.3Zm-174.326 223a130.282 130.282 0 0 0-15.211 24.153 4.978 4.978 0 0 1-3.319 2.766h-1.659c-4.333 0-9.219-8.481-9.219-8.481-1.29-2.028-2.489-4.149-3.687-6.361l-.83-1.752c-11.247-25.72-1.475-62.318-1.475-62.318a160.585 160.585 0 0 1 23.231-49.873 290.8 290.8 0 0 1 21.022-27.657l9.219 9.219 43.512 44.434a4.979 4.979 0 0 1 0 6.638L145.78 312.33Zm96.612 127.311a67.2 67.2 0 0 1-49.781-111.915c14.2-16.871 31.528-33.464 50.334-55.313 22.309 23.785 36.875 40.1 51.164 57.986a28.413 28.413 0 0 1 2.95 4.425 65.905 65.905 0 0 1 11.984 37.981 66.651 66.651 0 0 1-66.466 66.836ZM352.371 351.6a7.743 7.743 0 0 1-6.176 5.347H344.9a11.249 11.249 0 0 1-6.269-5.07 348.21 348.21 0 0 0-39.456-48.952l-17.788-18.435-59.087-61.305a497.888 497.888 0 0 1-35.4-36.322 12.033 12.033 0 0 0-.922-1.382 35.4 35.4 0 0 1-4.7-9.219v-1.752a31.346 31.346 0 0 1 9.218-27.656c11.432-11.431 22.955-22.954 33.833-34.939 11.984 13.275 24.8 26 37.428 38.627a530.991 530.991 0 0 1 69.6 79.1 147.494 147.494 0 0 1 27.011 83.8 134.109 134.109 0 0 1-5.997 38.158Z"/></svg>

    </a>
    MongoDB for Drupal
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/fgm/mongodb" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../layout/" class="md-nav__link">
        File system layout
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Modules
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Modules" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Modules
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mongodb/" class="md-nav__link">
        Driver: mongodb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mongodb_storage/" class="md-nav__link">
        K/V and Queue: mongodb_storage
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Logger: mongodb_watchdog
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Logger: mongodb_watchdog
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-command" class="md-nav__link">
    Troubleshooting command
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting command">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#interpreting-the-results" class="md-nav__link">
    Interpreting the results
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Development
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bespoke/" class="md-nav__link">
        Bespoke code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tests/" class="md-nav__link">
        Tests
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-command" class="md-nav__link">
    Troubleshooting command
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting command">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#interpreting-the-results" class="md-nav__link">
    Interpreting the results
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/fgm/mongodb/edit/master/docs/modules/mongodb_watchdog.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="logger-mongodb_watchdog">Logger: <code>mongodb_watchdog</code></h1>
<p>The <code>mongodb_watchdog</code> module stores the log entries for your Drupal site
in MongoDB collections as mentioned in
<a href="../../install#settings-configuration">Settings Configuration</a></p>
<p>It also exposes a logs browsing UI on <code>admin/reports/mongodb/watchdog/</code>,
with additional features in comparison with the built-in database logging:</p>
<ul>
<li>location of error log, with source file and line number</li>
<li>integrated display of the Top404 and Top403</li>
<li>grouping of logs by message</li>
<li>optional: grouping of logs by HTTP request, when the <code>mongodb_watchdog.request_tracking</code>
  configuration is enabled</li>
</ul>
<p>This module uses a separate database, defined by the <code>logger</code> database alias in
settings. Do NOT point that alias to the same database as <code>default</code>, because the
module Drops the <code>logger</code> database when uninstalling, which would drop all your
other data with it.</p>
<h2 id="configuration">Configuration</h2>
<p>Below are the configurable items available in <code>mongodb_watchdog.settings</code></p>
<ul>
<li><code>mongodb.watchdog.items</code><ul>
<li>the maximum item limit on the capped collection used by the module.</li>
<li>if not defined, it defaults to 10000.</li>
<li>the actual (size-based) limit is derived from this value, assuming
  1&nbsp;<a href="https://en.wikipedia.org/wiki/Kibibyte">kiB</a> per watchdog entry.</li>
</ul>
</li>
<li><code>mongodb.watchdog.limit</code><ul>
<li>the maximum severity level (0 to 7, per RFC 5424) to save into the logger
  storage.</li>
<li>events below this level (with a higher numerical level) will be ignored by
  the module.</li>
<li>if not defined, all events will saved.</li>
</ul>
</li>
<li><code>mongodb.watchdog.items_per_page</code><ul>
<li>the maximum number of events displayed on the event details page.</li>
</ul>
</li>
<li><code>mongodb_watchdog.request_tracking</code><ul>
<li>if true, enable the per-request event tracking.</li>
<li>if not defined, it defaults to false because its cost is not entirely
  negligible.</li>
<li>this feature requires the use of <code>mod_unique_id</code> in Apache 2.x</li>
</ul>
</li>
<li><code>mongodb_watchdog.requests</code><ul>
<li>if request tracking is enabled, this setting defines the maximum requests
  limit on the capped collection used by the module.</li>
<li>if not defined, it defaults to 100000.</li>
<li>the actual (size-based) limit is derived from this variable, assuming
  1&nbsp;<a href="https://en.wikipedia.org/wiki/Kibibyte">kiB</a> per tracker entry.</li>
</ul>
</li>
</ul>
<p>See <code>Drupal\Core\Logger\RfcLogLevel</code> and <code>Psr\Log\LogLevel</code> for further
information about severity levels.</p>
<h2 id="troubleshooting-command">Troubleshooting command</h2>
<p>The module provides one single command designed to help troubleshoot issues with
logging when this module is enabled. It is available for Drush and Drupal
Console indifferently.</p>
<p>The command takes no arguments and returns an analysis of the logger collections
which needs to be interpreted.</p>
<div class="highlight"><pre><span></span><code>$ drush mongodb:watchdog:sanitycheck
0: 0
1: 2
1000: 1
2000: 0
3000: 0
4000: 0
5000: 0
6000: 0
7000: 0
8000: 0
9000: 0
9999: 0
10000: 0
$
</code></pre></div>
<p>What the output of this command represents is the number of <code>watchdog_event_*</code>
collections with a document count in the range specified as the key.</p>
<p>In the results, the first and last two entries are specific: they match exact
counts, while the others are intervals, so the actual buckets are: <code>0</code>, <code>1</code>,
<code>2..1000</code>, <code>1001..2000</code>, ..., <code>9001..9998</code>, <code>9999</code>, <code>10000</code>. The specific
value 10000 is the number of entries allowed in event collections, as these are
MongoDB capped collections: whatever its value <code>n</code>, the command will report
<code>0</code>, <code>1</code>, <code>n-1</code>, <code>n</code>, and 9 ranges in between.</p>
<h3 id="interpreting-the-results">Interpreting the results</h3>
<p>As a general rule, on a high-load site, all buckets should have comparable
numbers, and the number of events logged grouped by pattern is pseudo-random,
except for the <code>0</code> bucket, which should be empty.</p>
<ul>
<li><code>0</code> bucket non-empty: unless there was specific manipulation performed by
  hand, this is a bug, and should be reported: event collections are created
  when an event is created, by the first insertion, and dropped as needed, but
  never truncated or created without an insert.</li>
<li><code>1</code> bucket has a high value, possibly orders of magnitude higher than other
  buckets. This denotes an incorrect use of the Drupal logger system, for which
  the PSR-3 <code>message</code> parameter is a message template, and the variant part of
  the message is expressed as placeholder values in the options. Look for calls
  to log operations passing a variable as the message and replace them by a
  template containing placeholders for the variable content in the message.</li>
<li><code>n-1</code> bucket has a high value: suspicious situation with the logger,
  especially if the "n" value is low or 0: please report a possible bug, with
  accompanying data</li>
<li><code>n</code> bucket has a high value<ul>
<li><code>n-1</code> has a high value too: this is a mostly  normal situation,
  especially if the value in the previous bucket is also high, although it
  means the data rotation in your site is possibly a bit high and you should
  increase the size of the capped collections to ensure longer retention of
  data.</li>
<li><code>n-1</code> has a low or 0 value: your logs are saturated by the site, and you
  are losing information, as all the capped collections in that situation
  are rolling over constantly. Ensure you have enough storage and raise the
  value capped collection size.</li>
<li>The config value to change in these cases is <code>mongodb.watchdog.items</code>.</li>
</ul>
</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../mongodb_storage/" class="md-footer__link md-footer__link--prev" aria-label="Previous: K/V and Queue: mongodb_storage" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              K/V and Queue: mongodb_storage
            </div>
          </div>
        </a>
      
      
        
        <a href="../../bespoke/" class="md-footer__link md-footer__link--next" aria-label="Next: Bespoke code" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Bespoke code
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.37e9125f.min.js"></script>
      
    
  </body>
</html>